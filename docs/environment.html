
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>环境配置 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="mongodb_basic.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="environment.html">
            
                <a href="environment.html">
            
                    
                    环境配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="mongodb_basic.html">
            
                <a href="mongodb_basic.html">
            
                    
                    MongoDB 基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="mongoose.html">
            
                <a href="mongoose.html">
            
                    
                    Mongoose 基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="pm2_deploy.html">
            
                <a href="pm2_deploy.html">
            
                    
                    pm2 部署 nodejs 应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="tmp.html">
            
                <a href="tmp.html">
            
                    
                    nuxt-wechat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="redis.html">
            
                <a href="redis.html">
            
                    
                    redis
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >环境配置</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="linux&#x73AF;&#x5883;">Linux&#x73AF;&#x5883;</h2>
<h3 id="&#x7B80;&#x5355;&#x5B89;&#x88DD;-nodejs">&#x7B80;&#x5355;&#x5B89;&#x88DD; node.js</h3>
<pre><code class="lang-sh">wget https://nodejs.org/dist/v10.15.1/node-v10.15.1-linux-x64.tar.xz
tar -xvf node-v10.15.1-linux-x64.tar.xz
mv node-v10.15.1-linux-x64.tar.xz nodejs
ln <span class="hljs-_">-s</span> /home/downloads/nodejs/bin/npm /usr/<span class="hljs-built_in">local</span>/bin/
ln <span class="hljs-_">-s</span> /home/downloads/nodejs/bin/node /usr/<span class="hljs-built_in">local</span>/bin/
node -v
<span class="hljs-comment"># &#x5220;&#x9664;&#x8F6F;&#x94FE;&#x63A5;</span>
sudo rm /usr/<span class="hljs-built_in">local</span>/bin/node
sudo rm /usr/<span class="hljs-built_in">local</span>/bin/npm
</code></pre>
<pre><code class="lang-sh"><span class="hljs-comment"># &#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x5360;&#x7528;</span>
netstat -tln | grep 3000
tcp        0      0 127.0.0.1:3000          0.0.0.0:*               LISTEN
<span class="hljs-comment"># &#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;&#x7A0B;&#x5E8F;    </span>
lsof -i :3000
COMMAND   PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
node    18245 root   20u  IPv4 219551      0t0  TCP localhost:3000 (LISTEN)
<span class="hljs-comment"># &#x6740;&#x6389;&#x5360;&#x7528;&#x7AEF;&#x53E3;&#x7684;&#x8FDB;&#x7A0B;&#xFF1A;</span>
<span class="hljs-built_in">kill</span> -9 &#x8FDB;&#x7A0B;ID
</code></pre>
<pre><code class="lang-bash">adduser me
gpasswd <span class="hljs-_">-a</span> me sudo
Adding user me to group sudo
sudo visudo
<span class="hljs-comment"># User privilege specification</span>
root    ALL=(ALL:ALL) ALL
me      ALL=(ALL:ALL) ALL
<span class="hljs-comment"># &#x6309; CTRL+X SHIFT+Y ENTER</span>
service ssh restart
</code></pre>
<h3 id="ssh&#x516C;&#x94A5;&#x5B9E;&#x73B0;&#x672C;&#x5730;&#x65E0;&#x79D8;&#x767B;&#x5F55;">ssh&#x516C;&#x94A5;&#x5B9E;&#x73B0;&#x672C;&#x5730;&#x65E0;&#x79D8;&#x767B;&#x5F55;</h3>
<pre><code class="lang-bash">me@&#x670D;&#x52A1;&#x5668;&#x540D; ~
$ ssh-keygen -t rsa -b 4096 -C <span class="hljs-string">&quot;username@domain&quot;</span>
$ <span class="hljs-built_in">eval</span> <span class="hljs-string">&quot;<span class="hljs-variable">$(ssh-agent -s)</span>&quot;</span>
Agent pid 16780
$ <span class="hljs-built_in">cd</span> .ssh
$ ls
id_rsa  id_rsa.pub
$ ssh-add ~/.ssh/id_rsa
Identity added: /home/me/.ssh/id_rsa (/home/me/.ssh/id_rsa)
$ vi authorized_keys
<span class="hljs-comment"># &#x590D;&#x5236;&#x672C;&#x5730;&#x7684;~/.ssh&#x4E0B;&#x7684;id_rsa&#x5185;&#x5BB9;</span>
<span class="hljs-comment"># &#x518D;&#x7C98;&#x8D34;&#x5230;&#x670D;&#x52A1;&#x5668;vi&#x6253;&#x5F00;&#x7684;&#x516C;&#x94A5;&#x6587;&#x4EF6;</span>
$ chmod 600 authorized_keys
$ sudo service ssh restart
</code></pre>
<h4 id="&#x4FEE;&#x6539;ssh-&#x7AEF;&#x53E3;">&#x4FEE;&#x6539;ssh &#x7AEF;&#x53E3;</h4>
<pre><code class="lang-bash">sudo vi /etc/ssh/sshd_config
<span class="hljs-comment"># port 22 &#x6539;&#x4E3A;&#x81EA;&#x5B9A;&#x4E49;&#x7AEF;&#x53E3;(&gt;1024 &amp;&amp; &lt;65535)</span>
<span class="hljs-comment"># &#x6700;&#x540E;&#x4E00;&#x884C;&#x540E;&#x9762;&#x52A0;&#x4E0A;</span>
AllowUsers &lt;username&gt;
sudo service ssh restart
<span class="hljs-comment"># &#x518D;&#x6B21;&#x5C1D;&#x8BD5;&#x767B;&#x5F55;</span>
$ ssh &lt;username&gt;@&lt;host-ip&gt;
ssh: connect to host &lt;ip&gt; port 22: Connection refused
<span class="hljs-comment"># &#x53BB;&#x963F;&#x91CC;&#x4E91;&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x5B89;&#x5168;&#x7EC4;&#x89C4;&#x5219;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;TCP &#x521A;&#x624D;&#x8BBE;&#x7F6E;&#x7684;ssh&#x7AEF;&#x53E3;</span>
$ ssh -p &lt;port&gt; &lt;username&gt;@&lt;host-ip&gt;
</code></pre>
<p><a href="https://www.jianshu.com/p/51fdf8139e9a" target="_blank">&#x5218;&#x6708;&#x6797; | &#x89E3;&#x51B3;&#x963F;&#x91CC;&#x4E91; ssh &#x7AEF;&#x53E3;&#x4FEE;&#x6539;&#x540E;&#x8FDE;&#x63A5;&#x5931;&#x8D25;&#x7684;&#x95EE;&#x9898;</a></p>
<h3 id="&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x89C4;&#x5219;">&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x89C4;&#x5219;</h3>
<pre><code class="lang-bash">sudo vi /etc/iptables.up.rules
*filter

<span class="hljs-comment"># allow all connections</span>
-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

<span class="hljs-comment"># allow out traffic</span>
-A OUTPUT -j ACCEPT

<span class="hljs-comment"># allow http https</span>
-A INPUT -p tcp --dport 443 -j ACCEPT
-A INPUT -p tcp --dport 80 -j ACCEPT
-A INPUT -p tcp --dport 3000 -j ACCEPT

<span class="hljs-comment"># allow ssh port login</span>
-A INPUT -p tcp -m state --state NEW --dport 39999 -j ACCEPT

<span class="hljs-comment"># ping </span>
-A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT

<span class="hljs-comment"># log denied calls</span>
-A INPUT -m <span class="hljs-built_in">limit</span> --limit 5/min -j LOG --log-prefix <span class="hljs-string">&quot;iptables denied:&quot;</span> --log-level 7

<span class="hljs-comment"># drop incoming sensitive connections</span>
-A INPUT -p tcp --dport 80 -i eth0 -m state --state NEW -m recent --set
-A INPUT -p tcp --dport 80 -i eth0 -m state --state NEW -m recent --update --seconds 60 --hitcount 180 -j DROP

<span class="hljs-comment"># reject all other inbound</span>
-A INPUT -j REJECT
-A FORWARD -j REJECT

<span class="hljs-comment"># website</span>
-A INPUT <span class="hljs-_">-s</span> 127.0.0.1 -p tcp --destination-port 3000 -m state --state NEW,ESTABLISHED -j ACCEPT
-A OUTPUT <span class="hljs-_">-s</span> 127.0.0.1 -p tcp --source-port 3000 -m state --state ESTABLISHED -j ACCEPT

<span class="hljs-comment">#movie</span>
COMMIT
sudo iptables-restore &lt; /etc/iptables.up.rules
sudo ufw status
Status: inactive
sudo ufw <span class="hljs-built_in">enable</span>
Command may disrupt existing ssh connections. Proceed with operation (y|n)? y
Firewall is active and enabled on system startup
sudo ufw status
Status: active

To                         Action      From
--                         ------      ----
3000                       ALLOW       Anywhere                  
3000 (v6)                  ALLOW       Anywhere (v6)
sudo vi /etc/network/<span class="hljs-keyword">if</span>-up.d/iptables
<span class="hljs-meta">#!/bin/sh</span>
iptables-restore /etc/iptables.up.rules
sudo chmod +x /etc/network/<span class="hljs-keyword">if</span>-up.d/iptables
</code></pre>
<h4 id="&#x914D;&#x7F6E;fail2ban">&#x914D;&#x7F6E;fail2ban</h4>
<pre><code class="lang-sh">sudo apt-get install fail2ban
sudo vi /etc/fail2ban/jail.conf
...
destemail = &lt;username&gt;@domain
...
action = %(action_mw)s
&lt;Esc&gt;:wq
sudo service fail2ban stop
sudo service fail2ban start
sudo service fail2ban status
</code></pre>
<h3 id="&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x4F9D;&#x8D56;">&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x4F9D;&#x8D56;</h3>
<pre><code class="lang-sh">apt-get install git build-essential libssh-dev
</code></pre>
<pre><code class="lang-sh"><span class="hljs-comment"># https://github.com/creationix/nvm</span>
wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash
nvm install v10.15.1
nvm use v10.15.1
nvm <span class="hljs-built_in">alias</span> default v10.15.1
nvm ls
node -v
npm --registry=https://registry.npm.taobao.org install -g npm
<span class="hljs-built_in">echo</span> fs.inotify.max_user_watches=524288 | sudo tee <span class="hljs-_">-a</span> /etc/sysctl.conf &amp;&amp; sudo sysctl -pfs.inotify.max_user_watches=524288
vm.swappiness = 0
net.ipv4.neigh.default.gc_stale_time = 120
net.ipv4.conf.all.rp_filter = 0
net.ipv4.conf.default.rp_filter = 0
net.ipv4.conf.default.arp_announce = 2
net.ipv4.conf.lo.arp_announce = 2
net.ipv4.conf.all.arp_announce = 2
net.ipv4.tcp_max_tw_buckets = 5000
net.ipv4.tcp_syncookies = 1
net.ipv4.tcp_max_syn_backlog = 1024
net.ipv4.tcp_synack_retries = 2
net.ipv6.conf.all.disable_ipv6 = 1
net.ipv6.conf.default.disable_ipv6 = 1
net.ipv6.conf.lo.disable_ipv6 = 1
kernel.sysrq = 1
fs.inotify.max_user_watches = 524288
npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org
npm install pm2 webpack
</code></pre>
<h3 id="nginx-&#x5B9E;&#x73B0;&#x53CD;&#x5411;&#x4EE3;&#x7406;">Nginx &#x5B9E;&#x73B0;&#x53CD;&#x5411;&#x4EE3;&#x7406;</h3>
<pre><code class="lang-sh"><span class="hljs-comment"># &#x7EC8;&#x6B62;apache&#x670D;&#x52A1;</span>
sudo service apache2 stop
update-rc.d <span class="hljs-_">-f</span> apache2 remove
sudo apt-get remove apache2
</code></pre>
<pre><code class="lang-sh">sudo apt-get install nginx
nginx -v
nginx version: nginx/1.10.3 (Ubuntu)

sudo vi /etc/nginx/conf.d/hi-com-3000.conf
</code></pre>
<p>&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;</p>
<pre><code class="lang-js">upstream hi {
  server <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">3000</span>;
}

server {
  listen <span class="hljs-number">80</span>;
  server_name &lt;host-ip&gt;;

  location / {
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $http_host;
    proxy_set_header X-Nginx-<span class="hljs-built_in">Proxy</span> <span class="hljs-literal">true</span>;

    proxy_pass http:<span class="hljs-comment">//hi;</span>
    proxy_redirect off;
  }
}
</code></pre>
<p>&#x67E5;&#x770B;nginx&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x786E;&#x8BA4;&#x5305;&#x542B;</p>
<pre><code class="lang-sh">sudo vi /etc/nginx/nginx.conf 
http {
    ...
    <span class="hljs-comment">##</span>
    <span class="hljs-comment"># Virtual Host Configs</span>
    <span class="hljs-comment">##</span>

    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;

}
</code></pre>
<p>&#x68C0;&#x67E5;nginx&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;</p>
<pre><code class="lang-sh">sudo nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf <span class="hljs-built_in">test</span> is successful
sudo nginx <span class="hljs-_">-s</span> reload
</code></pre>
<p>&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x516C;&#x7F51;ip&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x4E4B;&#x524D;pm2&#x5F00;&#x542F;&#x7684;3000&#x7AEF;&#x53E3;app&#x670D;&#x52A1;</p>
<p><strong>&#x53BB;&#x6389;&#x54CD;&#x5E94;&#x5934;&#x670D;&#x52A1;&#x5668;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</strong></p>
<p>&#x9ED8;&#x8BA4;&#xFF1A;<code>Server: nginx/1.10.3 (Ubuntu)</code></p>
<pre><code class="lang-sh">sudo vi /etc/nginx/nginx.conf
server_tokens off; <span class="hljs-comment"># &#x53BB;&#x6389;&#x6CE8;&#x91CA;</span>
sudo service nginx reload
</code></pre>
<p>&#x4FEE;&#x6539;&#x540E;&#xFF1A;<code>Server: nginx</code></p>
<h3 id="mongodb">mongodb</h3>
<h4 id="mongodb-&#x4E91;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;">mongodb &#x4E91;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;</h4>
<pre><code class="lang-sh">mongo <span class="hljs-string">&quot;mongodb://cluster0-shard-00-00-dk9yb.mongodb.net:27017,cluster0-shard-00-01-dk9yb.mongodb.net:27017,cluster0-shard-00-02-dk9yb.mongodb.net:27017/test?replicaSet=Cluster0-shard-0&quot;</span> --ssl --authenticationDatabase admin --username &lt;username&gt; --password &lt;password&gt;
mongo <span class="hljs-string">&quot;mongodb+srv://cluster0-dk9yb.mongodb.net/test&quot;</span> --username &lt;username&gt;
</code></pre>
<h4 id="&#x5B89;&#x88C5;mongodb">&#x5B89;&#x88C5;mongodb</h4>
<p><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/" target="_blank">Install MongoDB Community Edition on Ubuntu</a></p>
<p>&#x53BB;&#x6389;apt-get &#x963F;&#x91CC;&#x4E91;&#x5B89;&#x88C5;&#x6E90;&#xFF08;&#x53EF;&#x9009;&#xFF09;</p>
<pre><code class="lang-sh">vi /etc/apt/apt.conf
<span class="hljs-comment"># &#x5C06;require&#x6CE8;&#x91CA;</span>
</code></pre>
<p>&#x82E5;&#x5B89;&#x88C5;&#x5F88;&#x6162;&#xFF0C;&#x53EF;&#x7ED3;&#x675F;&#x5E76;&#x66F4;&#x6539;&#x6E90;</p>
<pre><code class="lang-sh">vi /etc/apt/sources.list.d/mongodb-org-4.0.list
deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse
<span class="hljs-comment"># https://mirrors.aliyun.com/mongodb/ubuntu</span>
</code></pre>
<h4 id="&#x542F;&#x52A8;mongod&#x670D;&#x52A1;">&#x542F;&#x52A8;mongod&#x670D;&#x52A1;</h4>
<pre><code class="lang-sh">sudo service mongod start
sudo cat /var/<span class="hljs-built_in">log</span>/mongodb/mongod.log
mongo
MongoDB shell version v4.0.6
connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb
sudo service mongod stop
sudo service mongod restart
</code></pre>
<h4 id="&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;">&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</h4>
<pre><code class="lang-sh"><span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span>
vi /etc/mongod.conf
<span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span>
vi /var/<span class="hljs-built_in">log</span>/mongodb/mongod.log
<span class="hljs-comment"># &#x9ED8;&#x8BA4;data&#x8DEF;&#x5F84;</span>
ls /var/lib/mongodb/
</code></pre>
<h4 id="&#x4FEE;&#x6539;mongod&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;">&#x4FEE;&#x6539;mongod&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;</h4>
<pre><code class="lang-sh">sudo vi /etc/mongod.conf
<span class="hljs-comment"># network interfaces</span>
net:
  port: 19999 <span class="hljs-comment">#</span>
  <span class="hljs-built_in">bind</span>Ip: 127.0.0.1
sudo service mongod restart
sudo vi /etc/iptales.up.rules
<span class="hljs-comment"># &#x6DFB;&#x52A0;&#x89C4;&#x5219;</span>
<span class="hljs-comment"># mongodb connect</span>
-A INPUT <span class="hljs-_">-s</span> 127.0.0.1 -p tcp --destination-port 19999 -m state --state NEW,ESTABLISHED -j ACCEPT
-A OUTPUT <span class="hljs-_">-d</span> 127.0.0.1 -p tcp --source-port 19999 -m state --state ESTABLISHED -j ACCEPT
mongo --port 19999
</code></pre>
<h4 id="&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;mongodb">&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;mongodb</h4>
<pre><code class="lang-sh">mongo --port 19999
MongoDB shell version v4.0.6
connecting to: mongodb://127.0.0.1:19999/?gssapiServiceName=mongodb
mongo --help
usage: mongo [options] [db address] [file names (ending <span class="hljs-keyword">in</span> .js)]
db address can be:
  foo                   foo database on <span class="hljs-built_in">local</span> machine
  192.168.0.5/foo       foo database on 192.168.0.5 machine
  192.168.0.5:9999/foo  foo database on 192.168.0.5 machine on port 9999
Options:
  --shell                             run the shell after executing files
  --nodb                              don<span class="hljs-string">&apos;t connect to mongod on startup - no 
                                      &apos;</span>db address<span class="hljs-string">&apos; arg expected
  --norc                              will not run the &quot;.mongorc.js&quot; file on 
                                      start up
  --quiet                             be less chatty
  --port arg                          port to connect to
  --host arg                          server to connect to
  --eval arg                          evaluate javascript
  -h [ --help ]                       show this usage information
  --version                           show version information
  --verbose                           increase verbosity
  --ipv6                              enable IPv6 support (disabled by default)
  --disableJavaScriptJIT              disable the Javascript Just In Time 
                                      compiler
  --enableJavaScriptJIT               enable the Javascript Just In Time 
                                      compiler
  --disableJavaScriptProtection       allow automatic JavaScript function 
                                      marshalling
  --ssl                               use SSL for all connections
  --sslCAFile arg                     Certificate Authority file for SSL
  --sslPEMKeyFile arg                 PEM certificate/key file for SSL
  --sslPEMKeyPassword arg             password for key in PEM file for SSL
  --sslCRLFile arg                    Certificate Revocation List file for SSL
  --sslAllowInvalidHostnames          allow connections to servers with 
                                      non-matching hostnames
  --sslAllowInvalidCertificates       allow connections to servers with invalid certificates
Authentication Options:
  -u [ --username ] arg               username for authentication
  -p [ --password ] arg               password for authentication

file names: a list of files to run. files have to end in .js and will exit after unless --shell is specified
</span></code></pre>
<h3 id="redis&#x5B89;&#x88C5;">redis&#x5B89;&#x88C5;</h3>
<pre><code class="lang-sh">wget tar <span class="hljs-built_in">cd</span> make

sudo vi redis.conf
daemonize yes
requirepass xxx

<span class="hljs-comment"># &#x53BB;&#x9664;protectd-mode&#x6A21;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x6240;&#x6709;ip&#x5747;&#x80FD;&#x8BBF;&#x95EE;&#xFF1A;</span>
protected-mode no 
<span class="hljs-built_in">bind</span> 0.0.0.0 ::1

sudo ./src/redis-server redis.conf

src/redis-cli
auth keys

netstat -tln | grep 6379
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="mongodb_basic.html" class="navigation navigation-next " aria-label="Next page: MongoDB 基础">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"环境配置","level":"1.2","depth":1,"next":{"title":"MongoDB 基础","level":"1.3","depth":1,"path":"mongodb_basic.md","ref":"mongodb_basic.md","articles":[]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"environment.md","mtime":"2022-01-10T11:41:46.414Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-01-10T11:55:19.457Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

